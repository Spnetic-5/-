{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/sp-lit/Desktop/cs/screens/AllTransactions.js\";\n\nimport React, { useEffect, useLayoutEffect, useState } from 'react';\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { SafeAreaView } from 'react-native-safe-area-context';\nimport CustomListItem from \"../components/CustomListItem\";\nimport { db, auth } from \"../firebase\";\nimport { Text } from 'react-native-elements';\nimport { FontAwesome5 } from '@expo/vector-icons';\n\nvar AllTransactions = function AllTransactions(_ref) {\n  var navigation = _ref.navigation;\n  useLayoutEffect(function () {\n    navigation.setOptions({\n      title: 'All Transactions'\n    });\n  }, []);\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      transactions = _useState2[0],\n      setTransactions = _useState2[1];\n\n  useEffect(function () {\n    var unsubscribe = db.collection('expense').orderBy('timestamp', 'desc').onSnapshot(function (snapshot) {\n      return setTransactions(snapshot.docs.map(function (doc) {\n        return {\n          id: doc.id,\n          data: doc.data()\n        };\n      }));\n    });\n    return unsubscribe;\n  }, []);\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      filter = _useState4[0],\n      setFilter = _useState4[1];\n\n  useEffect(function () {\n    if (transactions) {\n      setFilter(transactions.filter(function (transaction) {\n        return transaction.data.email === auth.currentUser.email;\n      }));\n    }\n  }, [transactions]);\n  return React.createElement(React.Fragment, null, (filter == null ? void 0 : filter.length) > 0 ? React.createElement(SafeAreaView, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, React.createElement(ScrollView, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 11\n    }\n  }, filter == null ? void 0 : filter.map(function (info) {\n    return React.createElement(View, {\n      key: info.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 15\n      }\n    }, React.createElement(CustomListItem, {\n      info: info.data,\n      navigation: navigation,\n      id: info.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }\n    }));\n  }))) : React.createElement(View, {\n    style: styles.containerNull,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, React.createElement(FontAwesome5, {\n    name: \"list-alt\",\n    size: 24,\n    color: \"#EF8A76\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }), React.createElement(Text, {\n    h4: true,\n    style: {\n      color: '#4A2D5D'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }, \"No Transactions\")));\n};\n\nexport default AllTransactions;\nvar styles = StyleSheet.create({\n  container: {\n    backgroundColor: 'white',\n    padding: 0,\n    marginTop: -23\n  },\n  containerNull: {\n    flex: 1,\n    backgroundColor: 'white',\n    alignItems: 'center',\n    justifyContent: 'center'\n  }\n});","map":{"version":3,"sources":["/home/sp-lit/Desktop/cs/screens/AllTransactions.js"],"names":["React","useEffect","useLayoutEffect","useState","SafeAreaView","CustomListItem","db","auth","Text","FontAwesome5","AllTransactions","navigation","setOptions","title","transactions","setTransactions","unsubscribe","collection","orderBy","onSnapshot","snapshot","docs","map","doc","id","data","filter","setFilter","transaction","email","currentUser","length","styles","container","info","containerNull","color","StyleSheet","create","backgroundColor","padding","marginTop","flex","alignItems","justifyContent"],"mappings":"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","sourcesContent":["import React, {useEffect, useLayoutEffect, useState} from 'react'\nimport {ScrollView, StyleSheet, View} from 'react-native'\nimport {SafeAreaView} from 'react-native-safe-area-context'\nimport CustomListItem from '../components/CustomListItem'\nimport {db, auth} from '../firebase'\nimport {Text} from 'react-native-elements'\nimport {FontAwesome5} from '@expo/vector-icons'\n\nconst AllTransactions = ({navigation}) => {\n  useLayoutEffect(() => {\n    navigation.setOptions({\n      title: 'All Transactions',\n    })\n  }, [])\n  const [transactions, setTransactions] = useState([])\n  useEffect(() => {\n    const unsubscribe = db\n      .collection('expense')\n      .orderBy('timestamp', 'desc')\n      .onSnapshot((snapshot) =>\n        setTransactions(\n          snapshot.docs.map((doc) => ({\n            id: doc.id,\n            data: doc.data(),\n          }))\n        )\n      )\n\n    return unsubscribe\n  }, [])\n  const [filter, setFilter] = useState([])\n  useEffect(() => {\n    if (transactions) {\n      setFilter(\n        transactions.filter(\n          (transaction) => transaction.data.email === auth.currentUser.email\n        )\n      )\n    }\n  }, [transactions])\n  return (\n    <>\n      {filter?.length > 0 ? (\n        <SafeAreaView style={styles.container}>\n          <ScrollView>\n            {filter?.map((info) => (\n              <View key={info.id}>\n                <CustomListItem\n                  info={info.data}\n                  navigation={navigation}\n                  id={info.id}\n                />\n              </View>\n            ))}\n          </ScrollView>\n        </SafeAreaView>\n      ) : (\n        <View style={styles.containerNull}>\n          <FontAwesome5 name='list-alt' size={24} color='#EF8A76' />\n          <Text h4 style={{color: '#4A2D5D'}}>\n            No Transactions\n          </Text>\n        </View>\n      )}\n    </>\n  )\n}\n\nexport default AllTransactions\n\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: 'white',\n    padding: 0,\n    marginTop: -23,\n  },\n  containerNull: {\n    flex: 1,\n    backgroundColor: 'white',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n})\n"]},"metadata":{},"sourceType":"module"}